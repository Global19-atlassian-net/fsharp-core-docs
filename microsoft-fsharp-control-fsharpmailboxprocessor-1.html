<!doctype html>
<html data-reactroot="" lang="en"><head><title>gitRepoName docs / MailboxProcessor&lt;&#x27;Msg&gt;-FSharp.Core</title><link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous"/><link href="/content/style.css" type="text/css" rel="stylesheet"/></head><body><nav class="navbar navbar-expand-lg sticky-top navbar-dark bg-dark"><a class="navbar-brand" href="/index.html">FSharp.Core</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNav"><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="/Getting_Started.html"><span>Getting Started</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" id="navbarDropdown-Docs" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Docs</a><div class="dropdown-menu" aria-labelledby="navbarDropdown-Docs"><a class="dropdown-item" href="/docs/Docs.html">Docs</a></div></li><li class="nav-item"><a class="nav-link" href="/api/index.html"><span>Api</span></a></li></ul></div></nav><h1>MailboxProcessor&lt;&#x27;Msg&gt;</h1><p><span>Namespace: Microsoft.FSharp.Control</span><br/><span>Attributes: <br/>[&lt;Sealed&gt;]<br/>[&lt;AutoSerializable(false)&gt;]<br/>[&lt;CompiledName(&quotFSharpMailboxProcessor`1&quot)&gt;]<br/></span></p><div class="xmldoc"><p>A message-processing agent which executes an asynchronous computation.</p>

</div><h3>Contructors</h3><table class="table"><thead><tr><th>Constructor</th><th>Description</th></tr></thead><tbody><tr><td class="member-name"><code class="function-or-value" data-guid="4847d9c6-8d79-4421-949d-5f17c77ec01a">new(body, cancellationToken)</code><div class="tip" id="4847d9c6-8d79-4421-949d-5f17c77ec01a"><strong>Signature:</strong>(body:(MailboxProcessor&lt;&#x27;Msg&gt; -&gt; Async&lt;unit&gt;) * cancellationToken:CancellationToken option) -&gt; MailboxProcessor&lt;&#x27;Msg&gt;<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Creates an agent. The body function is used to generate the asynchronous
computation executed by the agent. This function is not executed until
Start is called.</p>

</div><p><strong>CompiledName:</strong><code>.ctor</code></p></td></tr></tbody></table><h3>Instance members</h3><table class="table"><thead><tr><th>Instance member</th><th>Description</th></tr></thead><tbody><tr><td class="member-name"><code class="function-or-value" data-guid="a3e74328-04ab-4d9d-a230-2a225aebde22">x.CurrentQueueLength</code><div class="tip" id="a3e74328-04ab-4d9d-a230-2a225aebde22"><strong>Signature:</strong>int<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Returns the number of unprocessed messages in the message queue of the agent.</p>

</div><p><strong>CompiledName:</strong><code>get_CurrentQueueLength</code></p></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="3ccb1a36-e4fd-4e77-9101-90f8e0d7b34c">x.DefaultTimeout()</code><div class="tip" id="3ccb1a36-e4fd-4e77-9101-90f8e0d7b34c"><strong>Signature:</strong>unit -&gt; int<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Raises a timeout exception if a message not received in this amount of time. By default
no timeout is used.</p>

</div><p><strong>CompiledName:</strong><code>set_DefaultTimeout</code></p></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="b048e80b-7373-42a4-b6f5-d361ab9ca954">x.DefaultTimeout()</code><div class="tip" id="b048e80b-7373-42a4-b6f5-d361ab9ca954"><strong>Signature:</strong>unit -&gt; unit<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Raises a timeout exception if a message not received in this amount of time. By default
no timeout is used.</p>

</div><p><strong>CompiledName:</strong><code>get_DefaultTimeout</code></p></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="9bab73ff-5cf0-4eda-a148-5fc6db8d060e">x.Error</code><div class="tip" id="9bab73ff-5cf0-4eda-a148-5fc6db8d060e"><strong>Signature:</strong>IEvent&lt;Exception&gt;<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong><span><strong>Attributes:</strong><br/>[&lt;CLIEvent&gt;]<br/></span></div></td><td class="xmldoc"><div class="comment-block"><p>Occurs when the execution of the agent results in an exception.</p>

</div><p><strong>CompiledName:</strong><code>get_Error</code></p></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="46a28621-509e-4344-862a-1fb61eef9860">x.Post(message)</code><div class="tip" id="46a28621-509e-4344-862a-1fb61eef9860"><strong>Signature:</strong>message:&#x27;Msg -&gt; unit<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Posts a message to the message queue of the MailboxProcessor, asynchronously.</p>

</div></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="9fc56261-f906-44a3-bfdb-9035d4903be8">x.PostAndAsyncReply(...)</code><div class="tip" id="9fc56261-f906-44a3-bfdb-9035d4903be8"><strong>Signature:</strong>(buildMessage:(AsyncReplyChannel&lt;&#x27;Reply&gt; -&gt; &#x27;Msg) * timeout:int option) -&gt; Async&lt;&#x27;Reply&gt;<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Posts a message to an agent and await a reply on the channel, asynchronously.</p>

</div></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="b5a40457-95de-4b7e-9847-3625186ab7ad">x.PostAndReply(buildMessage, timeout)</code><div class="tip" id="b5a40457-95de-4b7e-9847-3625186ab7ad"><strong>Signature:</strong>(buildMessage:(AsyncReplyChannel&lt;&#x27;Reply&gt; -&gt; &#x27;Msg) * timeout:int option) -&gt; &#x27;Reply<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Posts a message to an agent and await a reply on the channel, synchronously.</p>

</div></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="6dc1bdfd-5c42-42a4-b472-963b084ad3b9">x.PostAndTryAsyncReply(...)</code><div class="tip" id="6dc1bdfd-5c42-42a4-b472-963b084ad3b9"><strong>Signature:</strong>(buildMessage:(AsyncReplyChannel&lt;&#x27;Reply&gt; -&gt; &#x27;Msg) * timeout:int option) -&gt; Async&lt;&#x27;Reply option&gt;<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Like AsyncPostAndReply, but returns None if no reply within the timeout period.</p>

</div></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="0a05b033-5a48-477f-b37a-a08c26bc2964">x.Receive(timeout)</code><div class="tip" id="0a05b033-5a48-477f-b37a-a08c26bc2964"><strong>Signature:</strong>(timeout:int option) -&gt; Async&lt;&#x27;Msg&gt;<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Waits for a message. This will consume the first message in arrival order.</p>

</div></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="4b6f39de-b021-4ea8-b8be-3cb76d6ff083">x.Scan(scanner, timeout)</code><div class="tip" id="4b6f39de-b021-4ea8-b8be-3cb76d6ff083"><strong>Signature:</strong>(scanner:(&#x27;Msg -&gt; Async&lt;&#x27;T&gt; option) * timeout:int option) -&gt; Async&lt;&#x27;T&gt;<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Scans for a message by looking through messages in arrival order until scanner
returns a Some value. Other messages remain in the queue.</p>

</div></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="9530b947-4afd-478d-bdc9-681463ef91f4">x.Start()</code><div class="tip" id="9530b947-4afd-478d-bdc9-681463ef91f4"><strong>Signature:</strong>unit -&gt; unit<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Starts the agent.</p>

</div></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="585fc83f-c411-44b6-838c-d52f90742b54">x.TryPostAndReply(buildMessage, timeout)</code><div class="tip" id="585fc83f-c411-44b6-838c-d52f90742b54"><strong>Signature:</strong>(buildMessage:(AsyncReplyChannel&lt;&#x27;Reply&gt; -&gt; &#x27;Msg) * timeout:int option) -&gt; &#x27;Reply option<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Like PostAndReply, but returns None if no reply within the timeout period.</p>

</div></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="b53ec69f-6fd0-414d-a517-e89d111d168b">x.TryReceive(timeout)</code><div class="tip" id="b53ec69f-6fd0-414d-a517-e89d111d168b"><strong>Signature:</strong>(timeout:int option) -&gt; Async&lt;&#x27;Msg option&gt;<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Waits for a message. This will consume the first message in arrival order.</p>

</div></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="08cd8572-c749-4cd2-bdc5-e3aae9673851">x.TryScan(scanner, timeout)</code><div class="tip" id="08cd8572-c749-4cd2-bdc5-e3aae9673851"><strong>Signature:</strong>(scanner:(&#x27;Msg -&gt; Async&lt;&#x27;T&gt; option) * timeout:int option) -&gt; Async&lt;&#x27;T option&gt;<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Scans for a message by looking through messages in arrival order until scanner
returns a Some value. Other messages remain in the queue.</p>

</div></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="faa5ea25-a920-4ce5-bb0f-0dbda5f26fc1">x.add_Error(arg1)</code><div class="tip" id="faa5ea25-a920-4ce5-bb0f-0dbda5f26fc1"><strong>Signature:</strong>Handler&lt;Exception&gt; -&gt; unit<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong><span><strong>Attributes:</strong><br/>[&lt;CLIEvent&gt;]<br/></span></div></td><td class="xmldoc"><div class="comment-block"><p>Occurs when the execution of the agent results in an exception.</p>

</div></td></tr><tr><td class="member-name"><code class="function-or-value" data-guid="174354f5-5c29-4440-8259-658a0bce9913">x.remove_Error(arg1)</code><div class="tip" id="174354f5-5c29-4440-8259-658a0bce9913"><strong>Signature:</strong>Handler&lt;Exception&gt; -&gt; unit<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong><span><strong>Attributes:</strong><br/>[&lt;CLIEvent&gt;]<br/></span></div></td><td class="xmldoc"><div class="comment-block"><p>Occurs when the execution of the agent results in an exception.</p>

</div></td></tr></tbody></table><h3>Static members</h3><table class="table"><thead><tr><th>Static member</th><th>Description</th></tr></thead><tbody><tr><td class="member-name"><code class="function-or-value" data-guid="fb4c24ea-0e83-4fa1-be33-c3596faa4da2">MailboxProcessor.Start(...)</code><div class="tip" id="fb4c24ea-0e83-4fa1-be33-c3596faa4da2"><strong>Signature:</strong>(body:(MailboxProcessor&lt;&#x27;Msg&gt; -&gt; Async&lt;unit&gt;) * cancellationToken:CancellationToken option) -&gt; MailboxProcessor&lt;&#x27;Msg&gt;<br/><strong>Modifiers:</strong><br/><strong>Type parameters:</strong></div></td><td class="xmldoc"><div class="comment-block"><p>Creates and starts an agent. The body function is used to generate the asynchronous
computation executed by the agent.</p>

</div></td></tr></tbody></table><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script><script src="/content/tips.js"></script><script src="/content/hotload.js"></script></body></html>